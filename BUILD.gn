# Copyright 2016 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

config("thread_safety_warning") {
  cflags = [ "-Wthread-safety" ]
}

static_library("escher") {
  deps = [ "//lib/ftl" ]
  sources = [
    "escher/renderer.cc",
    "escher/renderer.h",
    "escher/effects/blur/depth_based_blur_effect.cc",
    "escher/effects/blur/depth_based_blur_effect.h",
    "escher/effects/lighting/illumination_reconstruction_filter.cc",
    "escher/effects/lighting/lighting_effect.h",
    "escher/effects/lighting/illumination_reconstruction_filter.h",
    "escher/effects/lighting/noise_texture.cc",
    "escher/effects/lighting/illumination_shader.cc",
    "escher/effects/lighting/noise_texture.h",
    "escher/effects/lighting/illumination_shader.h",
    "escher/effects/lighting/occlusion_detector.cc",
    "escher/effects/lighting/lighting_effect.cc",
    "escher/effects/lighting/occlusion_detector.h",
    "escher/geometry/quad.cc",
    "escher/geometry/size_i.cc",
    "escher/geometry/tessellation.cc",
    "escher/geometry/types.h",
    "escher/geometry/quad.h",
    "escher/geometry/size_i.h",
    "escher/geometry/tessellation.h",
    "escher/gl/context.h",
    "escher/gl/texture_cache.h",
    "escher/gl/unique_object.h",
    "escher/gl/texture_spec.h",
    "escher/gl/unique_program.h",
    "escher/gl/mesh.h",
    "escher/gl/unique_buffer.h",
    "escher/gl/unique_shader.h",
    "escher/gl/texture.h",
    "escher/gl/unique_frame_buffer.h",
    "escher/gl/gles2/bindings.h",
    "escher/gl/gles2/texture.h",
    "escher/gl/gles2/context.h",
    "escher/gl/gles2/context.cc",
    "escher/gl/gles2/unique_object.h",
    "escher/gl/gles2/texture_cache.cc",
    "escher/gl/gles2/unique_program.cc",
    "escher/gl/gles2/texture_cache.h",
    "escher/gl/gles2/unique_program.h",
    "escher/gl/gles2/mesh.cc",
    "escher/gl/gles2/unique_buffer.cc",
    "escher/gl/gles2/unique_shader.cc",
    "escher/gl/gles2/mesh.h",
    "escher/gl/gles2/unique_buffer.h",
    "escher/gl/gles2/unique_shader.h",
    "escher/gl/gles2/resource.h",
    "escher/gl/gles2/unique_frame_buffer.cc",
    "escher/gl/gles2/texture.cc",
    "escher/gl/gles2/unique_frame_buffer.h",
    "escher/rendering/canvas.cc",
    "escher/rendering/model_renderer.cc",
    "escher/rendering/canvas.h",
    "escher/rendering/model_renderer.h",
    "escher/scene/ambient_light.cc",
    "escher/scene/material.cc",
    "escher/scene/shape.h",
    "escher/scene/ambient_light.h",
    "escher/scene/material.h",
    "escher/scene/stage.cc",
    "escher/scene/binding.h",
    "escher/scene/model.cc",
    "escher/scene/stage.h",
    "escher/scene/directional_light.cc",
    "escher/scene/model.h",
    "escher/scene/viewing_volume.cc",
    "escher/scene/directional_light.h",
    "escher/scene/object.cc",
    "escher/scene/viewing_volume.h",
    "escher/scene/displacement.cc",
    "escher/scene/object.h",
    "escher/scene/displacement.h",
    "escher/scene/shape.cc",
    "escher/shaders/blit_shader.cc",
    "escher/shaders/glsl_generator.cc",
    "escher/shaders/blit_shader.h",
    "escher/shaders/glsl_generator.h",
    "escher/shaders/material/material_shader.cc",
    "escher/shaders/material/material_shader_spec.cc",
    "escher/shaders/material/material_shader.h	",
    "escher/shaders/material/material_shader_spec.h",
    "escher/shaders/material/material_shader_factory.cc",
    "escher/shaders/material/modifier.cc",
    "escher/shaders/material/material_shader_factory.h	",
    "escher/shaders/material/modifier.h",
    "escher/util/need.h",
  ]

  include_dirs = [
    ".",
    "./third_party",
    "..",
    "../../third_party/glm",
  ]

  public_configs = [ ":thread_safety_warning" ]
}
